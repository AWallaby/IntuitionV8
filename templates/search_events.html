<!-- NOTE:
Jinja variables:
tags
events (List of event dicts)
-->

{%extends 'layout.html'%}

{%block style%}
<link rel="stylesheet" type="text/css" href="../static/meetings.css">
{%endblock%}

{%block body%}

    <div class = "search-container">
        <div class="search-text">
            <p>Search and filter for events with the search bar. <br><br> <b> CLICK ON </b> events that you are interested in to see what's in store! </p>
        </div>

        <form class="search-box" action="/search_events" method="POST">
            <div class="textbox" id = "search-query">
                <label for="name"> Name: </label>
                <input type="text" id ="name" placeholder = '{{name}}' name = "name">
            </div>
            <div class="textbox" id = "search-query">
                <label for="organiser"> Organiser: </label>
                <input type="text" id = 'organiser' placeholder = '{{organiser}}' name = "organiser">
            </div>
            
            <div>
                {% for tag in tags %}
                    <input type="checkbox" name="tag/{{tag}}"> 
                    <label for="{{tag}}"> {{tag}} </label>
                {% endfor %}
            </div>


            <input type = 'submit' class = "btn btn-outline-light btn-lg" value = 'Search'>
        </form>
    </div>


    <div class = "meetings-container">
        <p> Search Complete. There are <strong> {{events | length}}</strong>  results. </p>

        {% for event in events %}
            <div class = "events-box">
                <div class="meetings-details">
                    <h2> <a href = "/event/{{event['id']}}"> {{event['name']}} by {{event['organiser']}}  </a></h2>         
                </div>

            </div>
        {%endfor%}

    </div>


{%endblock%}
